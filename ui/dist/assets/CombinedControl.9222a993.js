import{o as i,c,a as s,t as d,i as p,v as a,n as f,r as l,j as h,k as _}from"./vendor.72c9d48a.js";import{_ as u}from"./index.c2d3aaac.js";import v from"./Graph.270e33ed.js";var w="/assets/car.3645a4ed.png";const k={data(){return{rSpeed:127,lSpeed:127}},methods:{displaySpeed(e){const r=e-127;return r>=0?`${Math.round(r/128*100)}%`:`${Math.round(r/127*100)}%`},update(){fetch("/rover/speed",{method:"POST",body:JSON.stringify({speedL:Number(this.lSpeed),speedR:Number(this.rSpeed)})})}},watch:{lSpeed(){this.lSpeed=Math.max(Math.min(this.lSpeed,255),0),this.update()},rSpeed(){this.rSpeed=Math.max(Math.min(this.rSpeed,255),0),this.update()}},mounted(){window.addEventListener("keydown",e=>{e.key=="ArrowUp"&&(this.rSpeed!=this.lSpeed&&(this.rSpeed=this.lSpeed=Math.round(Math.abs((this.rSpeed+this.lSpeed)/2))),this.rSpeed++,this.lSpeed++),e.key=="ArrowDown"&&(this.rSpeed!=this.lSpeed&&(this.rSpeed=this.lSpeed=Math.round(Math.abs((this.rSpeed+this.lSpeed)/2))),this.rSpeed--,this.lSpeed--),e.key=="ArrowRight"&&(this.rSpeed--,this.lSpeed++),e.key=="ArrowLeft"&&(this.rSpeed++,this.lSpeed--),e.key==" "&&(this.lSpeed=this.rSpeed=127)})}},g={class:"top"},x={class:"control"},M={class:"range"},C={class:"range"};function U(e,r,S,y,t,n){return i(),c("div",g,[s("div",x,[s("div",M,[s("p",null,d(n.displaySpeed(t.lSpeed))+" ("+d(t.lSpeed)+") ",1),p(s("input",{type:"range","onUpdate:modelValue":r[0]||(r[0]=o=>t.lSpeed=o),min:"0",max:"255"},null,512),[[a,t.lSpeed]])]),s("img",{class:"car",src:w,style:f({transform:"rotate("+0+"rad)"})},null,4),s("div",C,[s("p",null,d(n.displaySpeed(t.rSpeed))+" ("+d(t.rSpeed)+") ",1),p(s("input",{type:"range","onUpdate:modelValue":r[1]||(r[1]=o=>t.rSpeed=o),min:"0",max:"255"},null,512),[[a,t.rSpeed]])])])])}var b=u(k,[["render",U],["__scopeId","data-v-3e026a10"]]);const O={components:{Control:b,Graph:v},data(){return{showUnderlay:!0,showOverlay:!0}},mounted(){window.addEventListener("keydown",e=>{!e.altKey||(e.key=="1"&&(this.showUnderlay=!0,this.showOverlay=!0),e.key=="2"&&(this.showUnderlay=!1,this.showOverlay=!0),e.key=="3"&&(this.showUnderlay=!0,this.showOverlay=!1))})}},N={class:"wrap"},A={class:"overlay"},B={class:"underlay"};function L(e,r,S,y,t,n){const o=l("control"),m=l("graph");return i(),c("div",N,[s("div",A,[t.showOverlay?(i(),h(o,{key:0})):_("",!0)]),s("div",B,[t.showUnderlay?(i(),h(m,{key:0})):_("",!0)])])}var $=u(O,[["render",L],["__scopeId","data-v-6aa971ca"]]);export{$ as default};
