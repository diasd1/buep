import{o as i,c,a as s,t as o,j as l,v as a,n as w,r as h,k as _,d as u}from"./vendor.01434d16.js";import{_ as S}from"./index.deb6c9fa.js";import v from"./Graph.3edf5632.js";var k="/assets/car.3645a4ed.png";const g={props:{width:{type:Number,default:300}},data(){return{rSpeed:127,lSpeed:127}},methods:{displaySpeed(e){const r=e-127;return r>=0?`${Math.round(r/128*100)}%`:`${Math.round(r/127*100)}%`},update(){fetch("/rover/speed",{method:"POST",body:JSON.stringify({speedL:Number(this.lSpeed),speedR:Number(this.rSpeed)})})}},watch:{lSpeed(){this.lSpeed=Math.max(Math.min(this.lSpeed,255),0),this.update()},rSpeed(){this.rSpeed=Math.max(Math.min(this.rSpeed,255),0),this.update()}},mounted(){window.addEventListener("keydown",e=>{e.key=="ArrowUp"&&(this.rSpeed!=this.lSpeed&&(this.rSpeed=this.lSpeed=Math.round(Math.abs((this.rSpeed+this.lSpeed)/2))),this.rSpeed++,this.lSpeed++),e.key=="ArrowDown"&&(this.rSpeed!=this.lSpeed&&(this.rSpeed=this.lSpeed=Math.round(Math.abs((this.rSpeed+this.lSpeed)/2))),this.rSpeed--,this.lSpeed--),e.key=="ArrowRight"&&(this.rSpeed--,this.lSpeed++),e.key=="ArrowLeft"&&(this.rSpeed++,this.lSpeed--),e.key==" "&&(this.lSpeed=this.rSpeed=127)})}},x={class:"top"},M={class:"control"},C={class:"range"},b={class:"range"};function U(e,r,p,y,t,n){return i(),c("div",x,[s("div",M,[s("div",C,[s("p",null,o(n.displaySpeed(t.lSpeed))+" ("+o(t.lSpeed)+") ",1),l(s("input",{type:"range","onUpdate:modelValue":r[0]||(r[0]=d=>t.lSpeed=d),min:"0",max:"255"},null,512),[[a,t.lSpeed]])]),s("img",{class:"car",src:k,style:w({width:`${p.width}px`,transform:"rotate("+0+"rad)"})},null,4),s("div",b,[s("p",null,o(n.displaySpeed(t.rSpeed))+" ("+o(t.rSpeed)+") ",1),l(s("input",{type:"range","onUpdate:modelValue":r[1]||(r[1]=d=>t.rSpeed=d),min:"0",max:"255"},null,512),[[a,t.rSpeed]])])])])}var O=S(g,[["render",U],["__scopeId","data-v-1aa6da4b"]]);const N={components:{Control:O,Graph:v},data(){return{showUnderlay:!0,showOverlay:!0,controlWidth:50}},mounted(){window.addEventListener("keydown",e=>{!e.altKey||(e.key=="1"&&(this.showUnderlay=!0,this.showOverlay=!0),e.key=="2"&&(this.showUnderlay=!1,this.showOverlay=!0),e.key=="3"&&(this.showUnderlay=!0,this.showOverlay=!1))})}},A={class:"wrap"},B={class:"overlay"},L={class:"underlay"};function V(e,r,p,y,t,n){const d=h("control"),m=h("graph");return i(),c("div",A,[s("div",B,[t.showOverlay?(i(),_(d,{key:0,width:t.controlWidth},null,8,["width"])):u("",!0)]),s("div",L,[t.showUnderlay?(i(),_(m,{key:0,onChangeControlWidth:r[0]||(r[0]=f=>t.controlWidth=f)})):u("",!0)])])}var I=S(N,[["render",V],["__scopeId","data-v-56e9aa06"]]);export{I as default};
