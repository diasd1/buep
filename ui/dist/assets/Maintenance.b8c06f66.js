import{s as c,o as n,c as i,C as d,p as u,f as h,a as t,r as S,b as r,k as f,w as y,t as p}from"./vendor.dd02f02e.js";import{_}from"./index.d2c9322d.js";const k=c({props:{initialState:Boolean},data(){return{active:this.initialState}},watch:{active(){this.$emit("onChange",this.active)},initialState(){this.active=this.initialState}}}),$=e=>(u("data-v-704b8e31"),e=e(),h(),e),C=$(()=>t("div",{class:"bubble"},null,-1)),R=[C];function M(e,s,m,v,g,b){return n(),i("div",{onClick:s[0]||(s[0]=l=>e.active=!e.active),class:d(["toggle",{active:e.active}])},R,2)}var T=_(k,[["render",M],["__scopeId","data-v-704b8e31"]]);const L=c({name:"Maintenance",watch:{lightMode(){window.setTheme(this.lightMode?"default":"dark")}},methods:{quit(){fetch("/system/exit")},restart(){fetch("/system/reboot")},enableAuto(){fetch("/auto/enable")},disableAuto(){fetch("/auto/disable")},getRecommendedSpeeds(){fetch("/auto").then(e=>e.json()).then(e=>{this.speedL=e.speedL,this.speedR=e.speedR})},setSpeedLR(e,s){fetch("/rover/speed",{method:"POST",body:JSON.stringify({speedL:e,speedR:s})})},setSpeeds(){this.setSpeedLR(Number(this.speedL),Number(this.speedR)),setTimeout(()=>this.setSpeedLR(127,127),1e3)}},data(){return this.$nextTick(()=>{this.lightMode=window.getCurrentTheme()=="default"}),{speedL:127,speedR:127,lightMode:!1}},components:{Toggler:T}}),a=e=>(u("data-v-80ee7b4e"),e=e(),h(),e),w={class:"maintenance"},A={class:"settingsWrapper",key:1},I=a(()=>t("h4",null,"Application",-1)),B={class:"content"},N={class:"settingsWrapper",style:{"transition-delay":"0.25s"},key:2},E=a(()=>t("h4",null,"Propose Direction",-1)),W={class:"content"},q={class:"info"},D={class:"settingsWrapper",style:{"transition-delay":"0.5s"},key:3},O=a(()=>t("h4",null,"Automation",-1)),G={class:"content"},P={class:"settingsWrapper",style:{"transition-delay":"0.75s"},key:4},V=a(()=>t("h4",null,"Theme",-1)),z={class:"content"};function J(e,s,m,v,g,b){const l=S("Toggler");return n(),i("div",w,[r(f,{name:"list",appear:""},{default:y(()=>[(n(),i("div",A,[I,t("div",B,[t("button",{class:"accent",onClick:s[0]||(s[0]=(...o)=>e.restart&&e.restart(...o))},"Restart"),t("button",{onClick:s[1]||(s[1]=(...o)=>e.quit&&e.quit(...o))},"Quit")])])),(n(),i("div",N,[E,t("div",W,[t("button",{onClick:s[2]||(s[2]=(...o)=>e.getRecommendedSpeeds&&e.getRecommendedSpeeds(...o))},"GET"),t("div",q,[t("p",null,"Speed L: "+p(e.speedL),1),t("p",null,"Speed R: "+p(e.speedR),1)]),t("button",{onClick:s[3]||(s[3]=(...o)=>e.setSpeeds&&e.setSpeeds(...o))},"Set for 1s")])])),(n(),i("div",D,[O,t("div",G,[t("button",{onClick:s[4]||(s[4]=(...o)=>e.enableAuto&&e.enableAuto(...o))},"ENABLE"),t("button",{onClick:s[5]||(s[5]=(...o)=>e.disableAuto&&e.disableAuto(...o))},"DISABLE")])])),(n(),i("div",P,[V,t("div",z,[t("span",{class:d(["clickable material-symbols-rounded",{selected:!e.lightMode}])},"dark_mode",2),r(l,{class:"toggler",initialState:e.lightMode,onOnChange:s[6]||(s[6]=o=>e.lightMode=o)},null,8,["initialState"]),t("span",{class:d(["clickable material-symbols-rounded",{selected:e.lightMode}])},"light_mode",2)])]))]),_:1})])}var F=_(L,[["render",J],["__scopeId","data-v-80ee7b4e"]]);export{F as default};
