import{s as c,o as i,c as n,C as a,p as h,f as _,a as t,r as S,b as r,k as b,w as y,t as p}from"./vendor.dd02f02e.js";import{_ as u}from"./index.2732dc7c.js";const k=c({props:{initialState:Boolean},data(){return{active:this.initialState}},watch:{active(){this.$emit("onChange",this.active)},initialState(){this.active=this.initialState}}}),$=e=>(h("data-v-704b8e31"),e=e(),_(),e),C=$(()=>t("div",{class:"bubble"},null,-1)),R=[C];function M(e,s,m,v,g,f){return i(),n("div",{onClick:s[0]||(s[0]=l=>e.active=!e.active),class:a(["toggle",{active:e.active}])},R,2)}var T=u(k,[["render",M],["__scopeId","data-v-704b8e31"]]);const w=c({name:"Maintenance",watch:{lightMode(){window.setTheme(this.lightMode?"default":"dark")}},methods:{quit(){fetch("/system/exit")},restart(){fetch("/system/reboot")},getRecommendedSpeeds(){fetch("/auto").then(e=>e.json()).then(e=>{this.speedL=e.speedL,this.speedR=e.speedR})},setSpeedLR(e,s){fetch("/rover/speed",{method:"POST",body:JSON.stringify({speedL:e,speedR:s})})},setSpeeds(){this.setSpeedLR(Number(this.speedL),Number(this.speedR)),setTimeout(()=>this.setSpeedLR(127,127),1e3)}},data(){return this.$nextTick(()=>{this.lightMode=window.getCurrentTheme()=="default"}),{speedL:127,speedR:127,lightMode:!1}},components:{Toggler:T}}),d=e=>(h("data-v-e43c4bfa"),e=e(),_(),e),L={class:"maintenance"},I={class:"settingsWrapper",key:1},N=d(()=>t("h4",null,"Application",-1)),B={class:"content"},q={class:"settingsWrapper",style:{"transition-delay":"0.25s"},key:2},O=d(()=>t("h4",null,"Propose Direction",-1)),W={class:"content"},D={class:"info"},E={class:"settingsWrapper",style:{"transition-delay":"0.5s"},key:3},G=d(()=>t("h4",null,"Theme",-1)),P={class:"content"};function V(e,s,m,v,g,f){const l=S("Toggler");return i(),n("div",L,[r(b,{name:"list",appear:""},{default:y(()=>[(i(),n("div",I,[N,t("div",B,[t("button",{class:"accent",onClick:s[0]||(s[0]=(...o)=>e.restart&&e.restart(...o))},"Restart"),t("button",{onClick:s[1]||(s[1]=(...o)=>e.quit&&e.quit(...o))},"Quit")])])),(i(),n("div",q,[O,t("div",W,[t("button",{onClick:s[2]||(s[2]=(...o)=>e.getRecommendedSpeeds&&e.getRecommendedSpeeds(...o))},"GET"),t("div",D,[t("p",null,"Speed L: "+p(e.speedL),1),t("p",null,"Speed R: "+p(e.speedR),1)]),t("button",{onClick:s[3]||(s[3]=(...o)=>e.setSpeeds&&e.setSpeeds(...o))},"Set for 1s")])])),(i(),n("div",E,[G,t("div",P,[t("span",{class:a(["clickable material-symbols-rounded",{selected:!e.lightMode}])},"dark_mode",2),r(l,{class:"toggler",initialState:e.lightMode,onOnChange:s[4]||(s[4]=o=>e.lightMode=o)},null,8,["initialState"]),t("span",{class:a(["clickable material-symbols-rounded",{selected:e.lightMode}])},"light_mode",2)])]))]),_:1})])}var J=u(w,[["render",V],["__scopeId","data-v-e43c4bfa"]]);export{J as default};
